<div class="container">
    <div class="row mt-5">
      <div class="col-3">
        <!--        <div class="card text-black mt-3" style="border-radius: 10px">-->
        <img style="height: 300px; width: 298px; position: center; border-radius: 10px"
             [src]="user.avatar">
        <div>
          <ul class="list-group-flush" style="position: center">
            <div *ngIf="user.statusCCDV === 1">
              <h4 class="card-title text-center" style="color: green">Đang sẵn sàng</h4>
            </div>

            <div *ngIf="user.statusCCDV === 2">
              <h4 class="card-title text-center" style="color: red">Đang bận</h4>
            </div>
            <div>
              <i style="color: green" class="card-title text-center">Đã tham gia
                ngày: {{user.createAt | date:'dd/MM/YYYY'}}</i>
            </div>

            <div class="row">
              <!--                <div class="col-2"></div>-->
              <div class="col-3"></div>
              <div class="col-3 text-center" *ngIf="user.linkFb !== null">
                <a id="img" [href]="user.linkFb" style="cursor: pointer">
                  <img src="https://img.icons8.com/fluency/48/000000/facebook-circled.png"/></a></div>
              <div class="col-3 text-center"><a style="cursor: pointer"><img
                src="https://img.icons8.com/fluency/48/000000/instagram-new.png"/></a></div>

              <div class="col-3"></div>
              <!--                <div class="col-2"></div>-->
            </div>

          </ul>
        </div>
        <!--        </div>-->
      </div>
      <div class="col-6">
        <div class="row mt-1">
          <h2 class="card-title">{{user.name}}</h2>
          <div class="row mt-5">
          </div>
        </div>
        <div class="row mt-5">
          <h4>Thông tin</h4>
          <div class="card">
            <div class="card-body">

              <h6 class="card-text"><img style="height: 20px; width: 20px"
                                         src="https://img.icons8.com/emoji/48/000000/red-heart.png"/>Mô
                Tả: {{user.description}}</h6>
              <h6 class="card-text"><img style="height: 20px; width: 20px"
                                         src="https://img.icons8.com/emoji/48/000000/red-heart.png"/>Sở
                thích: {{user.hobby}}</h6>
              <h6 class="card-text"><img style="height: 20px; width: 20px"
                                         src="https://img.icons8.com/emoji/48/000000/red-heart.png"/>Quê
                Quán: {{user.city}}</h6>
              <h6 class="card-text"><img style="height: 20px; width: 20px"
                                         src="https://img.icons8.com/emoji/48/000000/red-heart.png"/>Yêu
                cầu: {{user.requestToPayer}}</h6>
            </div>
          </div>
        </div>

      </div>
      <div class="col-3">
        <div class="card" style="width: 18rem; border-radius: 10px">
          <div class="card-header">
            <h4 class="card-title text-center" style="color: red">{{user.price}}đ/giờ</h4>
          </div>
          <ul class="list-group list-group-flush">
            <button class="btn btn-outline-danger" data-toggle="modal" data-target="#exampleModal"
                    data-bs-whatever="@mdo" (click)="rent1()">Thuê
            </button>
            <button class="btn btn-outline-danger">Donate</button>
            <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#exampleModalMessage">Chat
            </button>

          </ul>
        </div>
      </div>
    </div>
</div>

<!--Modal tạo đơn-->
<div *ngIf="idUs !== 0" class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
  <form [formGroup]="rentForm">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Thông tin phiếu thuê</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">

          <div class="row">
            <div class="col-6">
              <h6 class="mt-3">Người cung cấp dịch vụ:</h6>

              <h6 class="mt-3">Ngày Hẹn</h6>


              <h6 class="mt-5">Thời gian bắt đầu hẹn:</h6>

              <h6 class="mt-5">Thời gian muốn thuê::</h6>
            </div>
            <div class="col-6">
              <div class="mt-3">
                <h6>{{user.name}}</h6>
              </div>
              <div class="mt-3">

                <input formControlName="rentDate" id="b" (change)="change1()"
                       *ngIf="((date.getMonth() + 1) > 9) && (date.getDate() > 9)" type="date" min="{{date2}}">

                <input formControlName="rentDate" id="a" (change)="change()"
                       *ngIf="((date.getMonth() + 1) < 10) && (date.getDate() <10)" type="date" min="{{date3}}">

                <input formControlName="rentDate" id="c" (change)="change2()"
                       *ngIf="((date.getMonth() + 1) > 9) && (date.getDate() < 10)" type="date" min="{{date4}}">

                <input formControlName="rentDate" id="d" (change)="change3()"
                       *ngIf="((date.getMonth() + 1) < 10) && (date.getDate() > 9)" type="date" min="{{date5}}">

              </div>
              <div class="mt-3">
                <div *ngIf="rentForm.get('rentDate')?.touched"><p *ngIf="rentForm.get('rentDate')?.errors?.required">
                  Ngày hẹn không được để trống</p></div>
              </div>
              <div class="mt-4" *ngIf="date.getDate() === checkDate.getDate() ">
                <select formControlName="startDate">
                  <option selected disabled>Chọn giờ</option>

                  <option *ngFor="let item of arr1 " value="{{item}}">{{item}} giờ</option>

                </select>


              </div>
              <div class="mt-3"><p *ngIf="rentForm.get('startDate')?.errors?.required">Thời gian bắt đầu không được để
                trống</p></div>
              <div class="mt-3" *ngIf="date.getDate() !== checkDate.getDate() ">
                <select formControlName="startDate">
                  <option selected disabled>Chọn giờ</option>
                  <option *ngFor="let item of arr " value="{{item}}">{{item}} giờ</option>

                </select>
                <div><p *ngIf="rentForm.get('startDate')?.errors?.required">Thời gian bắt đầu không được để trống</p>
                </div>
              </div>

              <div class="mt-3">
                <select formControlName="time" id="price" (change)="checkPrice()">

                  <option selected *ngFor="let item of arr" value="{{item + 1}}">{{item + 1}} giờ</option>
                </select>
                <div><p *ngIf="rentForm.get('time')?.errors?.required">Thời gian thuê không được để trống</p></div>
              </div>
            </div>
          </div>

          <div class="mt-3">Danh sách dịch vụ mở rộng</div>
<!--          <div class="row" *ngFor="let service of listUserService">-->
<!--            <div class="row" *ngIf="service.service?.typeService === 'Mở rộng'">-->
<!--              <div class="col-6">-->
<!--                <input type="checkbox" [value]="service.id"-->
<!--                       (change)="onCheckboxChange($event)"> {{service.service?.name}}-->
<!--              </div>-->
<!--              <div class="col-6">-->
<!--                <div>{{service.price}} Vnd</div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
          <div class="mt-3">Danh sách dịch vụ cơ bản, miễn phí</div>
<!--          <div class="row" *ngFor="let service of listUserService">-->
<!--            <div class="row"-->
<!--                 *ngIf="service.service?.typeService === 'Cơ bản' || service.service?.typeService === 'Miễn phí'">-->
<!--              <div class="col-6">-->
<!--                <input type="checkbox" [value]="service.id"-->
<!--                       (change)="onCheckboxChange($event)"> {{service.service?.name}}-->
<!--              </div>-->
<!--              <div class="col-6">-->
<!--                <div>{{service.price}} Vnd</div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
          <div class="row mt-3">
            <div class="col-6">
              <h6>Tổng tiền: </h6>
            </div>
            <div class="col-6">
              {{total}} Vnd
            </div>
          </div>
          <div class="mb-3">
            <label for="message-text" class="col-form-label">Tin nhắn:</label>
            <textarea class="form-control" id="message-text"></textarea>
          </div>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
          <button data-dismiss="modal"
                  class="btn btn-primary" (click)="saveRent()">Gửi
          </button>
        </div>

      </div>
    </div>
  </form>
</div>

