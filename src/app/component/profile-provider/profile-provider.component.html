
<!-- UI mới -->
<div id="root">
  <div class="wrapper">
    <div class="container player-infomation">
      <div class="row">
        <div class="player-profile-left-wrap col-md-3">
          <div class="avt-player">
            <div class="avt avt-lg">
              <img style="width: 300px; height: 300px; object-fit: cover"
              [src]="user.avatar"
              class="avt-img" alt="PD" *ngIf="id !== idUs">

              <img *ngIf="id === idUs" class="avt-img" alt="PD" style="width: 300px; height: 300px; object-fit: cover; cursor: pointer" [src]="user.avatar" sizes="sm" data-toggle="modal"
                   data-target="#exampleModal">
              <!--                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" style="border: none; background: white;color: black;width: 110px;" id="test">-->
              <!--                  Đổi ảnh đại diện-->
              <!--                </button>-->

              <!-- Modal -->
              <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                   aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header" style="padding-left: 40%;">
                      <h5 class="modal-title" id="exampleModalLabel" style="color: #f0564a">Chọn ảnh</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div><img [src]="avatarLink" alt="Nothing!" class="img-edit" style="text-align: center"></div>
                      <div>
                        <app-upload (givenURLtoCreate)="getImage($event)"></app-upload>
                      </div>
                    </div>
                    <div class="modal-footer" style="color: #fff">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
                      <button type="button" class="btn btn-danger ml-3" (click)="saveAvatar()">Lưu</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="cropimg-avatar">
                <!--                  <button type="button"><span> Thay Đổi<p>JPG, GIF or PNG, &lt;5 MB. </p></span></button>-->
              </div>


            </div>
          </div>
          <div class="rent-time-wrap" *ngIf="user.statusCCDV === 1"><p class="ready" style="color: green">Đang sẵn
            sàng</p></div>
          <div class="rent-time-wrap" *ngIf="user.statusCCDV === 2"><p class="ready" style="color: red">Đang bận</p>
          </div>
          <div class="social-icon">
            <div class="icon-wrap facebook"><a [href]="user.linkFb" target="_blank"
                                               rel="noopener noreferrer"><i class="fab fa-facebook-f"></i></a>
            </div>
          </div>
          <div class="member-since"><span>Ngày tham gia:</span><span><span>{{user.createAt | date:'dd/MM/YYYY'}}</span></span>
          </div>
        </div>
        <div class="player-profile-main-wrap col-md-6 col-md-pull-3">
          <div>
            <div class="row">
              <div class="center-item col-md-12"><span
                class="name-player-profile hidden-over-name">{{user.name}} </span>
                <!--                <button class="btn-follow-player"><i class="fas fa-heart"></i>&nbsp;<span-->
                <!--                  class="plus"><span>Theo dõi</span></span>-->
                <!--                </button>-->
              </div>
            </div>
            <div class="nav-player-profile row">
              <div class="col-md-4 col-xs-4">
                <div class="item-nav-name"><span>Đã được thuê</span></div>
                <div class="item-nav-value">{{rentHours}}&nbsp;<span>giờ</span></div>
              </div>
              <div class="col-md-4 col-xs-4">
                <div class="item-nav-name"><span>Tỷ lệ hoàn thành</span></div>
                <div class="item-nav-value">{{doneRate | number: '1.2-2'}}&nbsp;%</div>
              </div>
              <div class="col-md-4 col-xs-4">
                <div class="item-nav-name"><span>Số lượt thuê</span></div>
                <div class="item-nav-value">{{countRents}}</div>
              </div>
            </div>
            <hr>
            <div class="title-player-profile row">
              <div class="col-xs-6"><span>Thông tin</span></div>
            </div>
            <div class="content-player-profile"><p>Thuê đi <strong>Nhìn cái gì!</strong></p>
              <div class="album-of-player">
                <div>
                  <a
                    href="https://playerduo.com/api/upload-service/images/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__a1951bc0-1c83-11ec-851f-6161af46f080__player_album.jpg"
                    style="display: block;"><img
                    src="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__a1951bc0-1c83-11ec-851f-6161af46f080__player_album.jpg"
                    class=""
                    alt="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__a1951bc0-1c83-11ec-851f-6161af46f080__player_album.jpg"></a><a
                  href="https://playerduo.com/api/upload-service/images/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__dc062760-1141-11ec-875c-19bbd41ebdea__player_album.jpg"
                  style="display: block;"><img
                  src="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__dc062760-1141-11ec-875c-19bbd41ebdea__player_album.jpg"
                  class=""
                  alt="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__dc062760-1141-11ec-875c-19bbd41ebdea__player_album.jpg"></a><a
                  href="https://playerduo.com/api/upload-service/images/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__9a75c450-afb6-11eb-8579-85f3e8fd334e__player_album.jpg"
                  style="display: block;"><img
                  src="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__9a75c450-afb6-11eb-8579-85f3e8fd334e__player_album.jpg"
                  class=""
                  alt="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__9a75c450-afb6-11eb-8579-85f3e8fd334e__player_album.jpg"></a><a
                  href="https://playerduo.com/api/upload-service/images/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__d525bdb0-ad88-11eb-8601-cf63b3d9233c__player_album.jpg"
                  style="display: block;"><img
                  src="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__d525bdb0-ad88-11eb-8601-cf63b3d9233c__player_album.jpg"
                  class=""
                  alt="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__d525bdb0-ad88-11eb-8601-cf63b3d9233c__player_album.jpg"></a><a
                  href="https://playerduo.com/api/upload-service/images/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__fbed8180-7b3d-11eb-b33d-fdadf423b3d4__player_album.jpg"
                  style="display: block;"><img
                  src="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__fbed8180-7b3d-11eb-b33d-fdadf423b3d4__player_album.jpg"
                  class=""
                  alt="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__fbed8180-7b3d-11eb-b33d-fdadf423b3d4__player_album.jpg">
                  <div class="fadeDiv"><span style="font-family: Arial;">+1</span></div>
                </a><a
                  href="https://playerduo.com/api/upload-service/images/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__c4025200-7b3d-11eb-b33d-fdadf423b3d4__player_album.jpg"
                  style="display: none;"><img
                  src="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__c4025200-7b3d-11eb-b33d-fdadf423b3d4__player_album.jpg"
                  class=""
                  alt="https://playerduo.com/api/upload-service/thumbs/medium/dcfc2d0b-f15a-4348-b3f8-28400a0e0ff9__c4025200-7b3d-11eb-b33d-fdadf423b3d4__player_album.jpg"></a>
                  <div class="clearfix"></div>
                </div>
              </div>
              <p>⚜️ Quốc tịch: {{user.nationality}}</p>
              <p>💘 Năm sinh: {{user.dateOfBirth | date:'YYYY'}}</p>
              <p>⚜️ Giới tính: {{user.gender}}</p>
              <p>⚜️ Thành phố: {{user.city}}</p>
              <p>⚜️ Chiều cao: {{user.height}} cm</p>
              <p>⚜️ Cân nặng: {{user.weight}} kg</p>
              <p>💘️ Sở thích: {{user.hobby}}</p>
              <p>💘️ Mô tả bản thân: {{user.description}}</p>
              <p>💘️ Yêu cầu với người thuê: {{user.requestToPayer}}</p>
              <p>Link fb: <a target="_blank" [href]="user.linkFb">{{user.linkFb}}</a>
              </p>
            </div>
            <hr>
            <hr>
          </div>
        </div>
        <div class="player-profile-right-wrap col-md-3 col-md-push-6">
          <div class="right-player-profile"><p class="price-player-profile">{{user.price}},000 đ/h</p>
            <!--          <div class="rateting-style"><i class="fas fa-star"></i><i class="fas fa-star"></i><i-->
            <!--            class="fas fa-star"></i><i class="fas fa-star"></i><i-->
            <!--            class="fas fa-star"></i>&nbsp;<span>35 <span>Đánh giá</span></span></div>-->
            <div class="text-center">
              <button class="btn-my-style red" data-toggle="modal" data-target="#rentModal"
                      data-bs-whatever="@mdo" (click)="rent1()" *ngIf="idUs !== id && user.statusCCDV !== 2">Thuê
              </button>
              <button class="btn-my-style red" (click)="changeStatusCCDV()" *ngIf="idUs == id">Thay đổi trạng thái
              </button>
              <!--            <button class="btn-my-style white">Donate</button>-->
              <button class="btn-my-style white" data-bs-toggle="modal" data-bs-target="#exampleModalMessage" *ngIf="idUs !== id">💬 Chat
              </button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<!--Modal tạo đơn-->
<div *ngIf="idUs !== 0" class="modal fade" id="rentModal" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalLabel" aria-hidden="true" style="width: 100%;">
  <form [formGroup]="rentForm">
    <div class="modal-dialog" style="width: max-content">

      <!--Test -->
      <div class="modal-content" role="document" style="width: 150%;
    margin-left: -25%;">
        <div class="modal-header">
             <h4 class="modal-title" style="padding-left: 36%; color: #f0564a;">Thuê người yêu</h4>
        </div>
        <div class="modal-body">
          <table class="table">
            <tbody>
            <tr>
              <td>Người cung cấp dịch vụ:</td>
              <td colspan="2">{{user.name}}</td>
            </tr>
            <tr>
              <td>Ngày hẹn:</td>
              <td>
                <input formControlName="rentDate" id="b" (change)="change1()"
                       *ngIf="((date.getMonth() + 1) > 9) && (date.getDate() > 9)" type="date" min="{{date2}}">

                <input formControlName="rentDate" id="a" (change)="change()"
                       *ngIf="((date.getMonth() + 1) < 10) && (date.getDate() <10)" type="date" min="{{date3}}">

                <input formControlName="rentDate" id="c" (change)="change2()"
                       *ngIf="((date.getMonth() + 1) > 9) && (date.getDate() < 10)" type="date" min="{{date4}}">

                <input formControlName="rentDate" id="d" (change)="change3()"
                       *ngIf="((date.getMonth() + 1) < 10) && (date.getDate() > 9)" type="date" min="{{date5}}">
              </td>
              <td *ngIf="rentForm.get('rentDate')?.touched"><p *ngIf="rentForm.get('rentDate')?.errors?.required" style="color: darkred; font-style: italic; font-size: smaller">
                Ngày hẹn không được để trống</p></td>

            </tr>
            <tr>
              <td>Thời gian bắt đầu hẹn:</td>
              <td *ngIf="date.getDate() === checkDate.getDate() ">
                <select formControlName="startDate">-->
                  <option selected disabled>Chọn giờ</option>
                  <option *ngFor="let item of arr1 " value="{{item}}">{{item}} giờ</option>
                </select>
              </td>
              <td class="mt-3" *ngIf="date.getDate() === checkDate.getDate() ">
                <p *ngIf="rentForm.get('startDate')?.errors?.required && rentForm.get('startDate')?.touched" style="color: darkred; font-style: italic; font-size: smaller">Thời gian bắt đầu không được để
                  trống</p>
              </td>
              <td class="mt-3" *ngIf="date.getDate() !== checkDate.getDate() ">
                <select formControlName="startDate">
                  <option selected disabled>Chọn giờ</option>
                  <option *ngFor="let item of arr " value="{{item}}">{{item}} giờ</option>

                </select>
              </td>
              <td *ngIf="date.getDate() !== checkDate.getDate() ">
                <p *ngIf="rentForm.get('startDate')?.errors?.required && rentForm.get('startDate')?.touched" style="color: darkred; font-style: italic; font-size: smaller">Thời gian bắt đầu không được để trống</p>
              </td>
            </tr>
            <tr>
              <td>Thời gian muốn thuê:</td>
              <td class="mt-3">
                <select formControlName="time" id="price" (change)="checkPrice()">

                  <option selected *ngFor="let item of arr" value="{{item + 1}}">{{item + 1}} giờ</option>
                </select>
              </td>
              <td>
                <p *ngIf="rentForm.get('time')?.errors?.required && rentForm.get('time')?.touched" style="color: darkred; font-style: italic; font-size: smaller">Thời gian thuê không được để trống</p>
              </td>
            </tr>
            <tr>
              <td><span>Danh sách dịch vụ mở rộng</span>:</td>
              <td>
                <div class="row" *ngFor="let service of listUserService" style="display: block;">
                  <div class="row" *ngIf="service.category?.typeService === 'plus'">
                    <div class="col-6">
                      <input type="checkbox" [value]="service.id"
                             (change)="onCheckboxChange($event)"> {{service.category?.name}}
                    </div>
                    <div class="col-6">
                      <div>{{service?.price}},000 VNĐ</div>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td>Danh sách dịch vụ cơ bản và miễn phí:</td>
              <td>
                <div class="row" *ngFor="let service of listUserService" style="display: block;">
                  <div class="row"
                       *ngIf="service.category?.typeService === 'basic' || service.category?.typeService === 'free'">
                    <div class="col-6">
                      <input type="checkbox" [value]="service.id"
                             (change)="onCheckboxChange($event)"> {{service.category?.name}}
                    </div>
                    <div class="col-6">
                      <div>{{service?.price}} VNĐ</div>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td><span>Chi phí</span>:</td>
              <td><span class="price">{{total*1000}} VNĐ</span></td>
            </tr>
            <tr>
              <td colspan="3"><textarea placeholder="Type a message ..." name="message" maxlength="255" type="text" rows="4"
                                        class="form-control"></textarea>
                <p class="err-message"></p></td>
            </tr>
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal"><span>Đóng</span></button>
          <button type="button" class="btn-fill btn btn-danger" (click)="saveRent()" data-dismiss="modal"><span>Thuê</span></button>
        </div>
      </div>

      <!---->
      <!--      <div class="modal-content">-->
      <!--        <div class="modal-header">-->
      <!--          <h5 class="modal-title" id="exampleModalLabel">Thuê người yêu</h5>-->
      <!--          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
      <!--        </div>-->
      <!--        <div class="modal-body">-->

      <!--          <div class="row">-->
      <!--            <div class="col-6">-->
      <!--              <h6 class="mt-3">Người cung cấp dịch vụ:</h6>-->

      <!--              <h6 class="mt-3">Ngày Hẹn</h6>-->
      <!--              <h6 class="mt-5">Thời gian bắt đầu hẹn:</h6>-->
      <!--              <h6 class="mt-5">Thời gian muốn thuê::</h6>-->
      <!--            </div>-->
      <!--            <div class="col-6">-->
      <!--              <div class="mt-3">-->
      <!--                <h6>{{user.name}}</h6>-->
      <!--              </div>-->
      <!--              <div class="mt-3">-->

      <!--                <input formControlName="rentDate" id="b" (change)="change1()"-->
      <!--                       *ngIf="((date.getMonth() + 1) > 9) && (date.getDate() > 9)" type="date" min="{{date2}}">-->

      <!--                <input formControlName="rentDate" id="a" (change)="change()"-->
      <!--                       *ngIf="((date.getMonth() + 1) < 10) && (date.getDate() <10)" type="date" min="{{date3}}">-->

      <!--                <input formControlName="rentDate" id="c" (change)="change2()"-->
      <!--                       *ngIf="((date.getMonth() + 1) > 9) && (date.getDate() < 10)" type="date" min="{{date4}}">-->

      <!--                <input formControlName="rentDate" id="d" (change)="change3()"-->
      <!--                       *ngIf="((date.getMonth() + 1) < 10) && (date.getDate() > 9)" type="date" min="{{date5}}">-->

      <!--              </div>-->
      <!--              <div class="mt-3">-->
      <!--                <div *ngIf="rentForm.get('rentDate')?.touched"><p *ngIf="rentForm.get('rentDate')?.errors?.required">-->
      <!--                  Ngày hẹn không được để trống</p></div>-->
      <!--              </div>-->
      <!--              <div class="mt-4" *ngIf="date.getDate() === checkDate.getDate() ">-->
      <!--                <select formControlName="startDate">-->
      <!--                  <option selected disabled>Chọn giờ</option>-->

      <!--                  <option *ngFor="let item of arr1 " value="{{item}}">{{item}} giờ</option>-->

      <!--                </select>-->


      <!--              </div>-->
      <!--              <div class="mt-3"><p *ngIf="rentForm.get('startDate')?.errors?.required">Thời gian bắt đầu không được để-->
      <!--                trống</p></div>-->
      <!--              <div class="mt-3" *ngIf="date.getDate() !== checkDate.getDate() ">-->
      <!--                <select formControlName="startDate">-->
      <!--                  <option selected disabled>Chọn giờ</option>-->
      <!--                  <option *ngFor="let item of arr " value="{{item}}">{{item}} giờ</option>-->

      <!--                </select>-->
      <!--                <div><p *ngIf="rentForm.get('startDate')?.errors?.required">Thời gian bắt đầu không được để trống</p>-->
      <!--                </div>-->
      <!--              </div>-->

      <!--              <div class="mt-3">-->
      <!--                <select formControlName="time" id="price" (change)="checkPrice()">-->

      <!--                  <option selected *ngFor="let item of arr" value="{{item + 1}}">{{item + 1}} giờ</option>-->
      <!--                </select>-->
      <!--                <div><p *ngIf="rentForm.get('time')?.errors?.required">Thời gian thuê không được để trống</p></div>-->
      <!--              </div>-->
      <!--            </div>-->
      <!--          </div>-->

      <!--          <div class="mt-3">Danh sách dịch vụ mở rộng</div>-->
      <!--          &lt;!&ndash;          <div class="row" *ngFor="let service of listUserService">&ndash;&gt;-->
      <!--          &lt;!&ndash;            <div class="row" *ngIf="service.service?.typeService === 'Mở rộng'">&ndash;&gt;-->
      <!--          &lt;!&ndash;              <div class="col-6">&ndash;&gt;-->
      <!--          &lt;!&ndash;                <input type="checkbox" [value]="service.id"&ndash;&gt;-->
      <!--          &lt;!&ndash;                       (change)="onCheckboxChange($event)"> {{service.service?.name}}&ndash;&gt;-->
      <!--          &lt;!&ndash;              </div>&ndash;&gt;-->
      <!--          &lt;!&ndash;              <div class="col-6">&ndash;&gt;-->
      <!--          &lt;!&ndash;                <div>{{service.price}} Vnd</div>&ndash;&gt;-->
      <!--          &lt;!&ndash;              </div>&ndash;&gt;-->
      <!--          &lt;!&ndash;            </div>&ndash;&gt;-->
      <!--          &lt;!&ndash;          </div>&ndash;&gt;-->
      <!--          <div class="mt-3">Danh sách dịch vụ cơ bản, miễn phí</div>-->
      <!--          &lt;!&ndash;          <div class="row" *ngFor="let service of listUserService">&ndash;&gt;-->
      <!--          &lt;!&ndash;            <div class="row"&ndash;&gt;-->
      <!--          &lt;!&ndash;                 *ngIf="service.service?.typeService === 'Cơ bản' || service.service?.typeService === 'Miễn phí'">&ndash;&gt;-->
      <!--          &lt;!&ndash;              <div class="col-6">&ndash;&gt;-->
      <!--          &lt;!&ndash;                <input type="checkbox" [value]="service.id"&ndash;&gt;-->
      <!--          &lt;!&ndash;                       (change)="onCheckboxChange($event)"> {{service.service?.name}}&ndash;&gt;-->
      <!--          &lt;!&ndash;              </div>&ndash;&gt;-->
      <!--          &lt;!&ndash;              <div class="col-6">&ndash;&gt;-->
      <!--          &lt;!&ndash;                <div>{{service.price}} Vnd</div>&ndash;&gt;-->
      <!--          &lt;!&ndash;              </div>&ndash;&gt;-->
      <!--          &lt;!&ndash;            </div>&ndash;&gt;-->
      <!--          &lt;!&ndash;          </div>&ndash;&gt;-->
      <!--          <div class="row mt-3">-->
      <!--            <div class="col-6">-->
      <!--              <h6>Tổng tiền: </h6>-->
      <!--            </div>-->
      <!--            <div class="col-6">-->
      <!--              {{total}},000 VNĐ-->
      <!--            </div>-->
      <!--          </div>-->
      <!--          <div class="mb-3">-->
      <!--            <label for="message-text" class="col-form-label">Tin nhắn:</label>-->
      <!--            <textarea class="form-control" id="message-text"></textarea>-->
      <!--          </div>-->

      <!--        </div>-->
      <!--        <div class="modal-footer">-->
      <!--          <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>-->
      <!--          <button data-dismiss="modal"-->
      <!--                  class="btn btn-primary" (click)="saveRent()">Gửi-->
      <!--          </button>-->
      <!--        </div>-->

      <!--      </div>-->
    </div>
  </form>
</div>
<!--</body>-->
<!--</html>-->

